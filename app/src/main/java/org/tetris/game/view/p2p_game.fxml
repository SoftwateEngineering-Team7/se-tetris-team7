<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.paint.Color?>
<?import javafx.scene.text.Font?>

<StackPane xmlns="http://javafx.com/javafx"
           xmlns:fx="http://javafx.com/fxml"
           prefWidth="1000" prefHeight="600">

    <BorderPane fx:id="root"
                prefWidth="1000" prefHeight="600"
                style="-fx-background-color: #1a1a2e;">

        <!-- ============== 중앙: 두 개의 게임 보드 ============== -->
        <center>
            <HBox alignment="CENTER" spacing="40">
                <children>
                    <Pane fx:id="gameBoard1"
                          prefWidth="300" prefHeight="600">
                        <BorderPane.margin>
                            <Insets top="20.0" bottom="20.0" />
                        </BorderPane.margin>
                    </Pane>

                    <Pane fx:id="gameBoard2"
                          prefWidth="300" prefHeight="600">
                        <BorderPane.margin>
                            <Insets top="20.0" bottom="20.0" />
                        </BorderPane.margin>
                    </Pane>
                </children>
            </HBox>
        </center>

        <!-- ============== 왼쪽: Player 1 정보 ============== -->
        <left>
            <VBox alignment="TOP_CENTER" spacing="25"
                  prefWidth="200"
                  style="-fx-background-color: #16213e;">
                <children>
                    <Label text="PLAYER 1" textFill="white">
                        <font>
                            <Font name="Arial Black" size="20.0" />
                        </font>
                    </Label>

                    <!-- Player 1 NEXT -->
                    <VBox alignment="CENTER" spacing="10">
                        <children>
                            <Label text="NEXT" textFill="#e94560">
                                <font>
                                    <Font name="Arial Black" size="18.0" />
                                </font>
                            </Label>
                            <Pane fx:id="nextBlockPane1"
                                  prefWidth="120" prefHeight="120"
                                  style="-fx-background-color: #0f3460; -fx-border-color: #533483; -fx-border-width: 2;">
                                <effect>
                                    <DropShadow height="10.0" radius="4.5" width="10.0">
                                        <color>
                                            <Color opacity="0.5" />
                                        </color>
                                    </DropShadow>
                                </effect>
                            </Pane>
                        </children>
                    </VBox>

                    <!-- Player 1 SCORE -->
                    <VBox alignment="CENTER" spacing="5">
                        <children>
                            <Label text="SCORE" textFill="#e94560">
                                <font>
                                    <Font name="Arial Black" size="16.0" />
                                </font>
                            </Label>
                            <Label fx:id="scoreLabel1" text="0" textFill="white">
                                <font>
                                    <Font name="Consolas Bold" size="22.0" />
                                </font>
                            </Label>
                        </children>
                    </VBox>

                    <!-- Player 1 LEVEL -->
                    <VBox alignment="CENTER" spacing="5">
                        <children>
                            <Label text="LEVEL" textFill="#e94560">
                                <font>
                                    <Font name="Arial Black" size="16.0" />
                                </font>
                            </Label>
                            <Label fx:id="levelLabel1" text="1" textFill="white">
                                <font>
                                    <Font name="Consolas Bold" size="22.0" />
                                </font>
                            </Label>
                        </children>
                    </VBox>

                    <!-- Player 1 LINES -->
                    <VBox alignment="CENTER" spacing="5">
                        <children>
                            <Label text="LINES" textFill="#e94560">
                                <font>
                                    <Font name="Arial Black" size="16.0" />
                                </font>
                            </Label>
                            <Label fx:id="linesLabel1" text="0" textFill="white">
                                <font>
                                    <Font name="Consolas Bold" size="22.0" />
                                </font>
                            </Label>
                        </children>
                    </VBox>

                    <!-- Player 1 TIMER (Time Attack 전용) -->
                    <VBox fx:id="timeAttackBox1" alignment="CENTER" spacing="5" visible="false" managed="false">
                        <children>
                            <Label text="TIME" textFill="#e94560">
                                <font>
                                    <Font name="Arial Black" size="16.0" />
                                </font>
                            </Label>
                            <Label fx:id="timerLabel1" text="03:00" textFill="white">
                                <font>
                                    <Font name="Consolas Bold" size="22.0" />
                                </font>
                            </Label>
                        </children>
                    </VBox>
                </children>
                <BorderPane.margin>
                    <Insets top="20.0" left="20.0" bottom="20.0" right="10.0" />
                </BorderPane.margin>
            </VBox>
        </left>

        <!-- ============== 오른쪽: Player 2 정보 + Pause 버튼 ============== -->
        <right>
            <VBox alignment="TOP_CENTER" spacing="25"
                  prefWidth="220"
                  style="-fx-background-color: #16213e;">
                <children>
                    <Label text="PLAYER 2" textFill="white">
                        <font>
                            <Font name="Arial Black" size="20.0" />
                        </font>
                    </Label>

                    <!-- Player 2 NEXT -->
                    <VBox alignment="CENTER" spacing="10">
                        <children>
                            <Label text="NEXT" textFill="#e94560">
                                <font>
                                    <Font name="Arial Black" size="18.0" />
                                </font>
                            </Label>
                            <Pane fx:id="nextBlockPane2"
                                  prefWidth="120" prefHeight="120"
                                  style="-fx-background-color: #0f3460; -fx-border-color: #533483; -fx-border-width: 2;">
                                <effect>
                                    <DropShadow height="10.0" radius="4.5" width="10.0">
                                        <color>
                                            <Color opacity="0.5" />
                                        </color>
                                    </DropShadow>
                                </effect>
                            </Pane>
                        </children>
                    </VBox>

                    <!-- Player 2 SCORE -->
                    <VBox alignment="CENTER" spacing="5">
                        <children>
                            <Label text="SCORE" textFill="#e94560">
                                <font>
                                    <Font name="Arial Black" size="16.0" />
                                </font>
                            </Label>
                            <Label fx:id="scoreLabel2" text="0" textFill="white">
                                <font>
                                    <Font name="Consolas Bold" size="22.0" />
                                </font>
                            </Label>
                        </children>
                    </VBox>

                    <!-- Player 2 LEVEL -->
                    <VBox alignment="CENTER" spacing="5">
                        <children>
                            <Label text="LEVEL" textFill="#e94560">
                                <font>
                                    <Font name="Arial Black" size="16.0" />
                                </font>
                            </Label>
                            <Label fx:id="levelLabel2" text="1" textFill="white">
                                <font>
                                    <Font name="Consolas Bold" size="22.0" />
                                </font>
                            </Label>
                        </children>
                    </VBox>

                    <!-- Player 2 LINES -->
                    <VBox alignment="CENTER" spacing="5">
                        <children>
                            <Label text="LINES" textFill="#e94560">
                                <font>
                                    <Font name="Arial Black" size="16.0" />
                                </font>
                            </Label>
                            <Label fx:id="linesLabel2" text="0" textFill="white">
                                <font>
                                    <Font name="Consolas Bold" size="22.0" />
                                </font>
                            </Label>
                        </children>
                    </VBox>

                    <!-- Player 2 TIMER (Time Attack 전용) -->
                    <VBox fx:id="timeAttackBox2" alignment="CENTER" spacing="5" visible="false" managed="false">
                        <children>
                            <Label text="TIME" textFill="#e94560">
                                <font>
                                    <Font name="Arial Black" size="16.0" />
                                </font>
                            </Label>
                            <Label fx:id="timerLabel2" text="03:00" textFill="white">
                                <font>
                                    <Font name="Consolas Bold" size="22.0" />
                                </font>
                            </Label>
                        </children>
                    </VBox>

                    <!-- Pause 버튼 -->
                    <Button fx:id="pauseButton" text="PAUSE"
                            prefWidth="150" prefHeight="40"
                            style="-fx-background-color: #533483; -fx-text-fill: white; -fx-background-radius: 5;">
                        <font>
                            <Font name="Arial Bold" size="16.0" />
                        </font>
                        <effect>
                            <DropShadow height="8.0" radius="3.5" width="8.0">
                                <color>
                                    <Color opacity="0.5" />
                                </color>
                            </DropShadow>
                        </effect>
                    </Button>
                </children>
                <BorderPane.margin>
                    <Insets top="20.0" right="20.0" bottom="20.0" left="10.0" />
                </BorderPane.margin>
            </VBox>
        </right>

    </BorderPane>

    <!-- ============== 게임 오버 오버레이 ============== -->
    <HBox fx:id="gameOverOverlay" alignment="CENTER"
          visible="false" managed="false"
          prefWidth="1000" prefHeight="600"
          style="-fx-background-color: rgba(0, 0, 0, 0.8);">
        <children>
            <VBox alignment="CENTER" spacing="15">
                <children>
                    <Label text="GAME OVER" textFill="#e94560">
                        <font>
                            <Font name="Arial Black" size="48.0" />
                        </font>
                        <effect>
                            <DropShadow height="15.0" radius="7.0" width="15.0">
                                <color>
                                    <Color red="0.91" green="0.27" blue="0.38" opacity="0.8" />
                                </color>
                            </DropShadow>
                        </effect>
                    </Label>
                    <!-- 누가 이겼는지 / 비겼는지 -->
                    <Label fx:id="winnerLabel" text="PLAYER 1 WINS" textFill="white">
                        <font>
                            <Font name="Arial Bold" size="20.0" />
                        </font>
                    </Label>
                    <Button fx:id="restartButton" text="RESTART"
                            prefWidth="150" prefHeight="40"
                            style="-fx-background-color: #e94560; -fx-text-fill: white; -fx-background-radius: 5;">
                        <font>
                            <Font name="Arial Bold" size="16.0" />
                        </font>
                    </Button>
                    <Button fx:id="menuButton" text="MENU"
                            prefWidth="150" prefHeight="40"
                            style="-fx-background-color: #533483; -fx-text-fill: white; -fx-background-radius: 5;">
                        <font>
                            <Font name="Arial Bold" size="16.0" />
                        </font>
                    </Button>
                </children>
            </VBox>
        </children>
    </HBox>

    <!-- ============== 일시정지 오버레이 ============== -->
    <HBox fx:id="pauseOverlay" alignment="CENTER"
          visible="false" managed="false"
          prefWidth="1000" prefHeight="600"
          style="-fx-background-color: rgba(0, 0, 0, 0.7);">
        <children>
            <VBox alignment="CENTER" spacing="20">
                <children>
                    <Label text="PAUSED" textFill="#533483">
                        <font>
                            <Font name="Arial Black" size="48.0" />
                        </font>
                        <effect>
                            <DropShadow height="15.0" radius="7.0" width="15.0">
                                <color>
                                    <Color red="0.33" green="0.20" blue="0.51" opacity="0.8" />
                                </color>
                            </DropShadow>
                        </effect>
                    </Label>
                    <Button fx:id="resumeButton" text="RESUME"
                            prefWidth="150" prefHeight="40"
                            style="-fx-background-color: #533483; -fx-text-fill: white; -fx-background-radius: 5;">
                        <font>
                            <Font name="Arial Bold" size="16.0" />
                        </font>
                        <effect>
                            <DropShadow height="8.0" radius="3.5" width="8.0">
                                <color>
                                    <Color opacity="0.5" />
                                </color>
                            </DropShadow>
                        </effect>
                    </Button>
                    <Button fx:id="pauseMenuButton" text="MAIN MENU"
                            prefWidth="150" prefHeight="40"
                            style="-fx-background-color: #e94560; -fx-text-fill: white; -fx-background-radius: 5;">
                        <font>
                            <Font name="Arial Bold" size="16.0" />
                        </font>
                        <effect>
                            <DropShadow height="8.0" radius="3.5" width="8.0">
                                <color>
                                    <Color opacity="0.5" />
                                </color>
                            </DropShadow>
                        </effect>
                    </Button>
                </children>
            </VBox>
        </children>
    </HBox>

</StackPane>
